create database inventory_db;

use inventory_db;

-- categories table

CREATE TABLE categories (
  category_id INT AUTO_INCREMENT PRIMARY KEY,
  category_name VARCHAR(100) NOT NULL
);

-- Supplier Table
CREATE TABLE suppliers (
  supplier_id INT AUTO_INCREMENT PRIMARY KEY,
  supplier_name VARCHAR(100) NOT NULL,
  contact_number VARCHAR(15)
);

-- Product Table
CREATE TABLE products (
  product_id INT AUTO_INCREMENT PRIMARY KEY,
  product_name VARCHAR(100) NOT NULL,
  category_id INT,
  supplier_id INT,
  stock_quantity INT DEFAULT 0,
  price DECIMAL(10,2),
--use FOREIGN KEY for showing relation between tables

  FOREIGN KEY (category_id) REFERENCES categories(category_id),
  FOREIGN KEY (supplier_id) REFERENCES suppliers(supplier_id)
);

show tables;



-- Insert demo data
INSERT INTO categories (category_name) VALUES ('Electronics'), ('Groceries'), ('Furniture');

select * from categories;


INSERT INTO suppliers (supplier_name, contact_number) VALUES ('ABC Traders', '9876543210'), ('Fresh Mart', '9123456789');

select * from suppliers;


INSERT INTO products (product_name, category_id, supplier_id, stock_quantity, price)
VALUES
('TV', 1, 1, 10, 30000),
('Rice Bag', 2, 2, 50, 1200),
('Sofa Set', 3, 1, 5, 25000);


select * from products;
--using SQL joins to filter 
   SELECT p.product_id, p.product_name, c.category_name, s.supplier_name, 
           p.stock_quantity, p.price
--in above p.product_id and c.category_name used “p” and “c” as aliases 
    FROM products p
    JOIN categories c ON p.category_id = c.category_id
    JOIN suppliers s ON p.supplier_id = s.supplier_id
    order by price desc limit 2;
    
    
    select c.category_name,p.product_name,s.supplier_name,p.price,p.stock_quantity
    from products p
    join categories c on p.category_id=c.category_id
    join suppliers s on p.supplier_id=s.supplier_id
  


